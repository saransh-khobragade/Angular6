<app-header></app-header>
<div class="container mt-5">
  <form ngNativeValidate #id [formGroup]="myForm" (ngSubmit)="onSubmit()">
    <div class="form-group row">
      <label for="staticEmail" class="col-sm-6 col-form-label text-center">Fisrt Name</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" formControlName="firstname" minlength="3" placeholder="Fisrt Name">
      </div>
    </div>


    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Last Name</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" formControlName="lastname" minlength="3" placeholder="Last Name">
      </div>
    </div>

    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Email</label>
      <div class="col-sm-6">
        <input type="email" class="form-control" formControlName="email" placeholder="Email">
      </div>
    </div>

    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Password</label>
      <div class="col-sm-6">
        <input type="password" class="form-control" formControlName="password" minlength="8" #pass placeholder="Password">
      </div>
    </div>

    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Confirm Password</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" formControlName="confirmPassword" minlength="8" placeholder="Confirm Password">
      </div>
    </div>



    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Phone No.</label>
      <div class="col-sm-6">
        <input type="number" class="form-control" formControlName="number" pattern="(?=.*\d).{10}" placeholder="Phone No.">
      </div>
    </div>


    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6 col-form-label text-center">Gender</label>
      <div class="col-sm-6 align-item-left">
        <div class="custom-control custom-radio">
          <div class="row">
            <div class="col">
              <input type="radio" class="custom-control-input" id="customControlValidation" formControlName="gender"
                value="Male">
              <label class="custom-control-label" for="customControlValidation">Male</label>
            </div>
            <div class="col">
              <input type="radio" class="custom-control-input" id="customControlValidation2" formControlName="gender"
                value="Female">
              <label class="custom-control-label" for="customControlValidation2">Female</label>
            </div>
            <div class="col">
              <input type="radio" class="custom-control-input" id="customControlValidation3" formControlName="gender"
                value="Transgender">
              <label class="custom-control-label" for="customControlValidation3">Transgender</label>
            </div>
          </div>
        </div>
      </div>
    </div>




    <div class="form-group row">
      <label for="inputPassword" class="col-sm-6  col-form-label text-center">Birthday</label>
      <div class="col-sm-6">
        <input type="date" class="form-control" formControlName="birthday">
      </div>
    </div>

    <div class="form-group row text-center">
      <label for="inputPassword" class="col-sm-6  col-form-label text-center">Profile Photo</label>
      <div class="col-sm-6">
        <div>
          <img *ngIf="uploadValue===0" [src]="croppedImage" />
          
          <div>
            <image-cropper *ngIf="uploadValue===0"
                [imageChangedEvent]="imageChangedEvent"
                [maintainAspectRatio]="true"
                [aspectRatio]="3 / 4"
                [resizeToWidth]="150"
                [roundCropper]="false"
                format="png"
                outputType="both"
                (imageCropped)="imageCropped($event)"
                (imageLoaded)="imageLoaded()"
                (loadImageFailed)="loadImageFailed()"
                style="max-height: 33vh"
                [style.display]="cropperReady ? null : 'none'"
            ></image-cropper>
          </div>
          <input class="btn btn-md m-2" type="file" (change)="fileChangeEvent($event)" #fileInput formControlName="profilePic" hidden />
        </div>
        
        <button type="button" (click)="fileInput.click()" class="btn btn-md m-2">Pick File</button>
        <button type="button" (click)="uploadFile()" class="btn btn-md m-2">
          <span *ngIf="uploadValue===0">Upload</span>
          <span *ngIf="uploadValue===100">Uploaded Successfuly</span>
          <meter *ngIf="uploadValue!==0" value="{{uploadValue}}" min="0" max="100"></meter>
        </button>
        <div>
            <img *ngIf="uploadValue===100" class="img-fluid" src="/api/upload/image/{{uploadedImageName}}">
        </div>

        
      </div>
    </div>


    <div class="form-group row ">
      <div class="col-sm-12 text-center">
        <input type="submit" class="btn btn-md m-2" [disabled]="!myForm.valid" value="Sign up">
        <button type="reset" class="btn btn-md m-2">Reset</button>
        <button type="button" [routerLink]="['/login']" class="btn btn-md m-2">Back to Home</button>
      </div>
    </div>
  </form>
</div>




